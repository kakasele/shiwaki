@extends('layouts.app') @section('content')
<header
    class="container bg-indigo-600 px-4 py-3 rounded-b shadow text-white mb-3"
>
    <div class="flex justify-between items-center">
        <h1 class="text-xl">Work<span class="font-bold">Board</span></h1>
        <a
            href="{{route('submit-work')}}"
            class="bg-green-400 text-white px-3 py-1 flex justify-between rounded-full text-lg shadow no-underline hover:no-underline"
            >Submit Work</a
        >
    </div>
</header>
<div class="container" style="min-height: 80vh;">
    <div class="w-full">
        <div class="projects-card sm:grid sm:grid-cols-3 gap-1">
            @foreach ($projects as $project)
            <div
                class="project-card rounded-lg mt-3 shadow-sm bg-white flex flex-col overflow-hidden"
            >
                <div
                    class="flex justify-between border-b border-b border-blue-200 p-3 items-center"
                >
                    <div class="flex items-center">
                        <img
                            class="h-10 w-10 inline-block border-2 border-green-300 shadow sm:shadow-sm object-cover rounded-full"
                            src="{{asset($project->user->avatar())}}"
                            alt="User Avatar"
                        />
                        @foreach ($project->members as $member)
                        <img
                            class="h-10 w-10 -ml-2 inline-block border-2 border-green-300 shadow sm:shadow-sm object-cover rounded-full"
                            src="{{asset($member->avatar())}}"
                            alt="User Avatar"
                        />
                        @endforeach
                    </div>
                    <span
                        class="bg-red-300 px-2 rounded-full text-white font-bold shadow-sm"
                        >Unassigned</span
                    >
                </div>
                <div class="proect-details">
                    <h1 class="text-center mt-3 text-gray-600 text-lg">
                        {{$project->title}}
                    </h1>

                    <div class="description p-3 text-gray-700 flex-1">
                        <p>
                            {{Str::of($project->description)->words(20,'...')}}
                        </p>
                    </div>
                </div>
                <div class="p-3 flex justify-between">
                    <h1 class="text-lg w-2/5 text-gray-600">Project files</h1>

                    <div class="flex items-center p-1 border-b">
                        @forelse ($project->requestfiles as $file)
                        @include('translations.client.includes.file') @empty
                        @endforelse
                    </div>
                </div>
                <footer class="bg-gray-100 p-3 flex justify-between">
                    <p><span>{{$project->user->name}}</span></p>
                    <p>
                        Posted
                        <span>{{$project->created_at->diffForHumans()}}</span>
                    </p>
                </footer>
                <div>
                    <a
                        href="{{$project->path()}}"
                        class="bg-blue-400 block w-full py-2 text-lg hover:no-underline font-semibold text-center text-white"
                        >View</a
                    >
                </div>
            </div>

            @endforeach
        </div>
    </div>
</div>
@endsection
